
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Canvas Pie Charts</title>
    <style>
        canvas{
            border: 2px solid #333;
            margin: 2rem auto;
            
        }
    </style>
</head>
<body>
    <canvas id="c"></canvas>
    <script>
        
		var tab = Array ( 10 , 30 , 50 , 120 ) ;
        const randomHexColorCode = () => {
            return "#" + Math.random().toString(16).slice(2, 8)
        };
        
        document.addEventListener('DOMContentLoaded', ()=>{
            let canvas = document.getElementById('c');
            let ctx = canvas.getContext('2d');
            canvas.width = 800;
            canvas.height = 600;
			total=0;
			tab.forEach(element => {
				total+=element;
			});
            let startAngle = 0; 
            let radius = 100;
            let cx = canvas.width/2;
            let cy = canvas.height/2;
            
            tab.forEach( element => {
                ctx.fillStyle = randomHexColorCode();
                ctx.lineWidth = 1;
                ctx.strokeStyle = '#333';
                ctx.beginPath();
                let endAngle = ((element / total) * Math.PI * 2) + startAngle;
                ctx.moveTo(cx, cy);
                ctx.arc(cx, cy, radius, startAngle, endAngle, false);
                ctx.lineTo(cx, cy);
                ctx.fill();
                ctx.stroke();
                ctx.closePath();           
                startAngle = endAngle;
            })
        });
    </script>
</body>
</html>
